---
title: "Exercise 03 – ggplot2"
output: html_document
---

# 1.Load packages and data
- Load tidyverse, scales, and the dataset (data_complete).
- Create data_extended as in the script from Session 3 (i.e., with gender recoded as factor and ownership_type built from ownership and co_ownership).

# 2.Counts by gender
-Create a bar chart showing the count of respondents by gender.
- Recode gender to "Male" / "Female".
- Add count labels on top of each bar.

# 3.Shares by gender
- Compute the share of males and females in the sample.
- Create a 100% bar (single bar turned on its side) showing the percentage of each gender.
- Add percentage labels (e.g. 54%, 46%) inside the bar.

# 4.Gender composition within ownership types
- Using ownership_type and gender, compute the share of men and women within each ownership type (“Non-owner”, “Sole-owner”, “Co-owner”).
- Plot the result as grouped bars (dodged geom_col) with gender on the fill.
- Add percentage labels above the bars.

# 5. Histogram of electricity behaviour
- Plot a histogram of behaviour_elec_scaled.
- Choose a reasonable number of bins (e.g. 25–30).
- Comment for yourself: Is the distribution symmetric, skewed, or clustered?

# 6. Boxplots of electricity behaviour by gender
- Create a boxplot of behaviour_elec_scaled by gender.
- Use "Male" / "Female" labels.
- Add a descriptive title and axis labels.
- Briefly note whether one group appears more energy-conscious than the other.

# 7. Compare electricity vs. heating behaviour (facets)
- Reshape the data to long format and build a faceted plot:
- Gather behaviour_elec_scaled and behaviour_heat_scaled into a domain and behaviour variable.
- Create boxplots by gender, with one facet for electricity and one for heating.
- Reflect: Are gender differences similar or different across the two domains?

# 8. Mean behaviour with error bars (by ownership type and gender)
- Compute mean and standard error (SE) of behaviour_elec_scaled for each combination of ownership_type and gender.
- Plot mean bars with ±1 SE error bars.
- Use a consistent color scheme for gender.
- Ask yourself: Are any differences large relative to the error bars, or are groups quite similar?

# 9. Binary indicator for high investment willingness (heating)
- Using inv_ee_heat_scaled_2, create a binary variable high_inv_heat = 1 if value ≥ 70, and 0 otherwise.
- Compute the share of high-willingness respondents by ownership_type and gender.
- Think: in which ownership group and gender is high willingness most common?